// =============================================
// 機能セクション — Bento Grid レイアウト
// 不均等グリッドで視覚的リズムを作る
// =============================================

.features {
  @include section-padding;
  background: var(--surface-bg);
}

.features-grid {
  display: grid;
  gap: $space-6;

  // ----- モバイル: 1カラム -----
  grid-template-columns: 1fr;

  // ----- タブレット: 2カラム -----
  @include mq(md) {
    grid-template-columns: repeat(2, 1fr);
  }

  // ----- デスクトップ: 6カラム Bento Grid -----
  @include mq(lg) {
    grid-template-columns: repeat(6, 1fr);

    // 上段: ポモドーロタイマー（左半分）
    .feature-card:nth-child(1) { grid-column: 1 / 4; }

    // 上段: ラベル管理（右半分）
    .feature-card:nth-child(2) { grid-column: 4 / 7; }

    // 下段左: 統計・分析（3分の1、2行分）
    .feature-card:nth-child(3) { grid-column: 1 / 3; grid-row: span 2; }

    // 下段右上: マルチプラットフォーム（3分の1）
    .feature-card:nth-child(4) { grid-column: 3 / 5; }

    // 下段右上: カスタマイズ（3分の1）
    .feature-card:nth-child(5) { grid-column: 5 / 7; }

    // 下段右下: プライバシー（右3分の2、統計の下端と揃える）
    .feature-card:nth-child(6) { grid-column: 3 / 7; }
  }
}

.feature-card {
  @include card($radius-xl);
  padding: $space-8 $space-6;

  &:hover {
    @include card-hover;
  }

  // ----- 2カラム幅のカード（Bento） -----
  &--wide {
    @include mq(md) {
      grid-column: span 2;
    }
  }
}

.feature-icon {
  width: 48px;
  height: 48px;
  margin-bottom: $space-5;

  svg {
    width: 100%;
    height: 100%;
  }
}

.feature-card h3 {
  font-size: $text-lg;
  font-weight: $font-semibold;
  margin-bottom: $space-2;
  color: var(--text-primary);
}

.feature-card p {
  color: var(--text-secondary);
  font-size: $text-sm;
  line-height: $leading-normal;
}

// ----- カード内ミニスクリーンショット -----
.feature-card-img {
  margin-top: $space-4;
  border-radius: $radius-md;
  overflow: hidden;
  border: 1px solid var(--border-light);

  img {
    width: 100%;
    height: auto;
  }

  // ----- 余白の多いスクリーンショットをトリミング表示 -----
  &--crop img {
    height: 320px;
    object-fit: cover;
    object-position: center 35%;

    @include mq-down(md) {
      height: 260px;
    }
  }

  // ----- 正方形トリミング -----
  &--square img {
    aspect-ratio: 1 / 1;
    object-fit: cover;
    object-position: center 35%;
  }
}
