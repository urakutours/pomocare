@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body,
#root {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  overscroll-behavior: none;
  -webkit-user-select: none;
  user-select: none;
  background-color: #ffffff;
}

html.dark,
html.dark body,
html.dark #root {
  background-color: #262626;
}

/* --- Dark theme (deeper dark) overrides --- */
html[data-theme="dark"],
html[data-theme="dark"] body,
html[data-theme="dark"] #root {
  background-color: rgb(19, 23, 27);
}

/* Panel / modal backgrounds */
html[data-theme="dark"] .dark\:bg-neutral-800 {
  background-color: rgb(19, 23, 27) !important;
}

/* Input / select / interactive area backgrounds */
html[data-theme="dark"] .dark\:bg-neutral-700 {
  background-color: rgb(44, 47, 50) !important;
}
html[data-theme="dark"] .dark\:bg-neutral-700\/40 {
  background-color: rgba(44, 47, 50, 0.4) !important;
}

/* Hover backgrounds */
html[data-theme="dark"] .dark\:hover\:bg-neutral-600:hover {
  background-color: rgb(55, 58, 62) !important;
}
html[data-theme="dark"] .dark\:hover\:bg-neutral-700:hover {
  background-color: rgb(50, 53, 57) !important;
}

/* Remove borders on inputs */
html[data-theme="dark"] .dark\:border-neutral-600 {
  border-color: transparent !important;
}
html[data-theme="dark"] .dark\:border-neutral-500 {
  border-color: transparent !important;
}

/* Separator borders stay visible but subtle */
html[data-theme="dark"] .dark\:border-neutral-700 {
  border-color: rgb(40, 43, 47) !important;
}

/* Tiffany → muted teal for dark theme */
html[data-theme="dark"] .bg-tiffany {
  background-color: #59a8a5 !important;
}
html[data-theme="dark"] .hover\:bg-tiffany-hover:hover {
  background-color: #4d9694 !important;
}
html[data-theme="dark"] .bg-tiffany\/10 {
  background-color: rgba(89, 168, 165, 0.1) !important;
}
html[data-theme="dark"] .border-tiffany {
  border-color: #59a8a5 !important;
}
html[data-theme="dark"] .text-tiffany {
  color: #59a8a5 !important;
}
html[data-theme="dark"] .ring-tiffany {
  --tw-ring-color: #59a8a5 !important;
}
html[data-theme="dark"] .focus\:ring-tiffany:focus {
  --tw-ring-color: #59a8a5 !important;
}

/* Safe area padding for standalone PWA (notch devices etc.) */
@supports (padding: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/*
  landscape:* クラスをスマホ横向き（max-width: 767px）のみに限定する。
  Tailwind v3 の組み込み landscape バリアントは @media(orientation:landscape) 固定のため、
  PC 幅（768px 以上）では landscape スタイルをリセットする上書きルールを追加する。
*/
@media (orientation: landscape) and (min-width: 768px) {
  /* 2カラムレイアウトを縦に戻す */
  .landscape\:flex        { display: block !important; }
  .landscape\:flex-1      { flex: none !important; }
  .landscape\:items-center { align-items: initial !important; }
  .landscape\:gap-8       { gap: 0 !important; }

  /* パディング・マージン（PC ではデフォルト値に戻す） */
  /* AppShell: landscape:p-3 → デフォルト p-4 */
  .landscape\:p-3         { padding: 1rem !important; }
  /* Header: landscape:mb-2 → デフォルト mb-8 */
  .landscape\:mb-2        { margin-bottom: 2rem !important; }
  /* TimerDisplay: landscape:mb-3 → デフォルト mb-8 */
  .landscape\:mb-3        { margin-bottom: 2rem !important; }
  /* TimerControls: landscape:mb-0 → デフォルト mb-6 */
  .landscape\:mb-0        { margin-bottom: 1.5rem !important; }

  /* タイマー文字サイズをポートレート値（text-7xl）に戻す */
  .landscape\:text-6xl    { font-size: 4.5rem !important; line-height: 1 !important; }
  /* ボタンサイズをポートレート値（w-16 h-16）に戻す */
  .landscape\:w-14        { width: 4rem !important; }
  .landscape\:h-14        { height: 4rem !important; }
}

/* Window Controls Overlay: titlebar drag region */
.titlebar-drag {
  -webkit-app-region: drag;
  app-region: drag;
}

.titlebar-no-drag {
  -webkit-app-region: no-drag;
  app-region: no-drag;
}
